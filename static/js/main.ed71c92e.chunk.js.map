{"version":3,"sources":["components/setting.js","components/settingControls.js","components/settings.js","components/imageContainer.js","components/header.js","components/wrapper.js","App.js","index.js","registerServiceWorker.js"],"names":["Setting","props","className","name","value","type","step","min","max","onChange","e","controls","Settings","settings","map","control","idx","key","toUpperCase","filters","this","Component","ImageCanvas","id","width","height","style","ref","canvas","src","alt","CanvasControls","href","download","onClick","CanvasContainer","applyImageFilter","ctx","canvasFilter","Object","keys","forEach","trim","drawImage","state","image","Image","onload","clearRect","forceUpdate","saveImage","imageUrl","toDataURL","setState","prevState","getContext","prevProps","filter","filename","Header","Wrapper","handleSettingsChange","target","toLowerCase","uploadImage","input","files","length","match","reader","FileReader","dataUri","result","fileSrc","readAsDataURL","console","log","hue","contrast","brightness","saturate","sepia","invert","grayscale","blur","opacity","App","ReactDOM","render","document","getElementById","navigator","window","addEventListener","swUrl","process","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error"],"mappings":"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","file":"static/js/main.ed71c92e.chunk.js","sourcesContent":["import React from 'react';\nimport './setting.css';\n\n\nfunction Setting (props) {\n  return (\n    <div className={props.className}>\n      <div className='labels'>\n        <div className='label-left'>{props.name}</div>\n        <div className='label-right'>{props.value}</div>\n      </div>\n      <div className='range-field'>\n        <input\n          type='range'\n          step={0.1}\n          name={props.name}\n          value={props.value}\n          min={props.min}\n          max={props.max}\n          onChange={(e) => props.onChange(e)}\n          />\n      </div>\n\n    </div>\n  )\n}\n\nexport default Setting;\n","const controls = [\n  {\n    name: 'hue',\n    min: '-360',\n    max: '360',\n  },\n  {\n    name: 'contrast',\n    min: '0',\n    max: '200',\n  },\n  {\n    name: 'brightness',\n    min: '0',\n    max: '200',\n  },\n  {\n    name: 'saturate',\n    min: '0',\n    max: '200',\n  },\n  {\n    name: 'sepia',\n    min: '0',\n    max: '100',\n  },\n  {\n    name: 'grayscale',\n    min: '0',\n    max: '100',\n  },\n  {\n    name: 'invert',\n    min: '0',\n    max: '100',\n  },\n  {\n    name: 'blur',\n    min: '0',\n    max: '10',\n  },\n  {\n    name: 'opacity',\n    min: '0',\n    max: '100',\n  },\n];\n\n\nexport { controls };\n","import React, { Component } from 'react';\nimport Setting from './setting';\nimport { controls } from './settingControls'\n\n\nclass Settings extends Component {\n  render() {\n    const settings = controls.map((control, idx) => {\n      let name = control.name;\n      return (\n        <Setting\n          className='setting'\n          key={idx}\n          name={name.toUpperCase()}\n          value={this.props.filters[name]}\n          min={control.min}\n          max={control.max}\n          onChange={(e) => this.props.onChange(e)}\n        />\n      )\n    })\n    return (\n      <div className={this.props.className}>\n        {settings}\n      </div>\n    );\n  }\n}\n\nexport default Settings;\n","import React, { Component } from 'react';\nimport './imageContainer.css';\n\nclass ImageCanvas extends Component {\n  render () {\n    return (\n      <div>\n        <canvas\n          id='canvas'\n          width={600}\n          height={400}\n          style={this.props.style}\n          filters={this.props.filters}\n          ref={this.props.canvas}\n        >\n          <img src='' alt=''/>\n        </canvas>\n      </div>\n    )\n  }\n}\n\nclass CanvasControls extends Component {\n  render () {\n    return (\n      <div>\n        <input type='file' id='file'\n          value={this.props.value}\n          onChange={(e) => this.props.onChange(e)}\n        />\n        <a className='save'\n          href={this.props.href}\n          download={this.props.download}\n          onClick={() => this.props.onClick()}\n        >SAVE</a>\n      </div>\n    )\n  }\n}\n\nclass CanvasContainer extends Component {\n  constructor (props) {\n    super(props);\n    this.state = { imageUrl: ''}\n  }\n  componentDidMount () {\n    const ctx = this.canvas.getContext('2d');\n    this.setState({ ctx });\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const ctx = this.state.ctx;\n    ctx.filter = this.applyImageFilter(ctx, this.props.filters);\n    if (prevProps !== this.props) {\n      this.drawImage();\n      this.setState((prevState, props) => {\n        prevState['ctx'] = ctx;\n        prevState['imageUrl'] = ctx.canvas.toDataURL();\n        return prevState;\n      });\n    }\n  }\n\n  applyImageFilter = (ctx, filters) => {\n    let canvasFilter = '';\n    Object.keys(filters).forEach((key) => {\n      switch (key) {\n        case 'blur':\n          canvasFilter += `${key}(${filters[key]}px) `;\n          break;\n        case 'hue':\n          canvasFilter += `${key}-rotate(${filters[key]}deg) `;\n          break;\n        default:\n          canvasFilter += `${key}(${filters[key]}%) `;\n        }\n      });\n    return canvasFilter.trim();\n  }\n\n  drawImage = () => {\n    var ctx = this.state.ctx;\n    var canvas = ctx.canvas;\n    var image = new Image();\n    image.onload = () => {\n      if (image.height > canvas.height) {\n            image.width *= canvas.height/image.height;\n            image.height = canvas.height;\n          }\n      if (canvas.width > image.width) {\n        canvas.width = image.width;\n      }\n      if (image.width > canvas.width) {\n        image.width *= canvas.width/image.width;\n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n      ctx.drawImage(image, 0, 0, image.width, image.height);\n    }\n    image.src = this.props.href;\n    this.forceUpdate();\n  }\n\n  saveImage = () => {\n    const canvas = this.state.ctx.canvas;\n    const imageUrl = canvas.toDataURL();\n    this.setState((prevState, props) => {\n      prevState['imageUrl'] = imageUrl;\n      return prevState;\n    });\n  }\n\n  render () {\n    return (\n      <div className={this.props.className}>\n        <CanvasControls\n          href={this.state.imageUrl}\n          download={this.props.download}\n          value={this.props.filename}\n          onClick={this.saveImage}\n          onChange={(e) => this.props.onChange(e)}\n        />\n        <ImageCanvas\n          filters={this.props.filters}\n          canvas={canvas => this.canvas = canvas}\n        />\n      </div>\n    )\n  }\n}\n\n\nexport default CanvasContainer;\n","import React, { Component } from 'react';\nimport './header.css';\n\n\nclass Header extends Component {\n  render () {\n    return (\n      <header className='header'>\n        <h1>\n          Picture Perfect Playground Alliteration\n        </h1>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport Settings from './settings';\nimport CanvasContainer from './imageContainer';\nimport Header from './header';\nimport './wrapper.css';\n\n\nclass Wrapper extends Component {\n  constructor() {\n    super();\n    this.state = {\n      filters: {\n        hue: 0,\n        contrast: 100,\n        brightness: 100,\n        saturate: 100,\n        sepia: 0,\n        invert: 0,\n        grayscale: 0,\n        blur: 0,\n        opacity: 100,\n      },\n      imageUrl: '',\n      fileSrc: '',\n    };\n  }\n\n  handleSettingsChange = (e) => {\n    const control = e.target.name.toLowerCase();\n    const value = e.target.value;\n    this.setState((prevState, props)=>{\n      prevState.filters[control] = value;\n      return prevState;\n    });\n  }\n\n  uploadImage = (e) => {\n    const input = e.target;\n    const type = input.files[0].type;\n    if (input.files.length === 0) return;\n    if (!type.match(/image.*/)) {\n      console.log('file is not a valid image', type);\n      return;\n      // TODO: inform user that file is not a valid image\n    }\n    var reader = new FileReader();\n    reader.onload = (e) => {\n      this.setState({\n        dataUri: e.target.result,\n        fileSrc: input.value,\n        filename: input.files[0].name,\n        type: type,\n      })\n    }\n    reader.readAsDataURL(input.files[0]);\n  }\n\n  render () {\n    return (\n      <div>\n        <Header />\n        <div className='wrapper'>\n          <Settings className='sidebar'\n            filters={this.state.filters}\n            onChange={this.handleSettingsChange}\n          />\n          <div className='main-area'>\n            <CanvasContainer className='drop-target'\n              href={this.state.dataUri}\n              download={this.state.filename}\n              onChange={this.uploadImage}\n              filters={this.state.filters}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Wrapper;\n","import React, { Component } from 'react';\nimport Wrapper from './components/wrapper';\nimport './App.css';\n\n\nclass App extends Component {\n  render () {\n    return (\n      <div className='App'>\n        <Wrapper />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}